<header>
    <h1>Users</h1>
</header>

<section class="container">
    <div class="add-user">
        <h1>{{editMode ? 'Update' : 'Add'}} User</h1>
        <hr><br>
        <form (submit)="f.valid?onProjectAdd():null" #f="ngForm">
            <input type="text" name="user" id="user" placeholder="Enter User Name" [(ngModel)]="userData.name" required>
            <br><br>
            <input type="text" name="email" id="email" placeholder="Enter User Email" [(ngModel)]="userData.email"
                required>
            <br><br>
            <button type="submit"> {{editMode ? 'Update' : 'Add'}} </button>
        </form>
    </div>
    <div class="user-list">
        <h1>Users</h1>
        <hr><br>
        <table>
            <tr>
                <th style="width: 10%">#</th>
                <th style="width: 30%">Name</th>
                <th style="width: 35%">Email</th>
                <th style="width: 25%">Action</th>
            </tr>
            @for (user of (users$ | async); track user.id){
            <tr>
                <td>{{ $index +1 }}</td>
                <td> {{user.name}} </td>
                <td> {{user.email}} </td>
                <td>
                    <button type="button" (click)="updateTask(user)">Update</button> &nbsp;
                    <button type="button" (click)="deleteTask(user)">Delete</button>
                </td>
            </tr>
            }@empty {
            <td colspan="4" style="text-align: center;">Loading...</td>
            }
        </table>
    </div>
</section>